[← بخش ۴-۴: منطق ماشین: حلقه‌ها و شرط‌ها](./04-machine-logic-loops-and-conditions.md) | [آزمون فصل چهارم →](./exam/index.md)

# فصل ۴: اولین جعبه ابزار شما: پایتون

## بخش ۴-۵: پروژه عملی: ساخت یک ماشین حساب ژنومی

اکنون زمان آن رسیده است که تمام مهارت‌هایی که در این فصل یاد گرفته‌اید - متغیرها، رشته‌ها، حلقه‌ها و دستورات شرطی - را با هم ترکیب کرده و اولین برنامه بیوانفورماتیکی کامل خود را بنویسید. این پروژه، پلی است بین دانش تئوری و کاربرد عملی آن در دنیای واقعی.

### 🎯 مسئله محوری: چگونه می‌توانیم تمام قطعات پازل برنامه‌نویسی را کنار هم بگذاریم تا یک ابزار واقعی بیوانفورماتیک بسازیم؟

شما اکنون با متغیرها، رشته‌ها، حلقه‌ها و دستورات شرطی آشنا شده‌اید. این‌ها مانند قطعات لگو هستند. اما چگونه می‌توان این قطعات را به درستی به هم متصل کرد تا یک ساختار معنادار و کاربردی، مانند یک ماشین حساب ژنومی، بسازیم؟ در این بخش، ما از تئوری عبور کرده و وارد دنیای مهندسی نرم‌افزار می‌شویم. هدف ما این است که با ترکیب تمام مفاهیم آموخته شده، یک برنامه کامل بنویسیم که یکی از مهم‌ترین پارامترهای یک توالی DNA، یعنی درصد GC، را محاسبه کند. این پروژه، اولین تجربه شما در تبدیل یک "الگوریتم" به یک "ابزار" واقعی خواهد بود.

---

### هدف پروژه

ما قصد داریم یک اسکریپت پایتون بنویسیم که یک توالی DNA را به عنوان ورودی دریافت کرده و **درصد محتوای GC** آن را محاسبه کند. درصد GC (نسبت بازهای گوانین و سیتوزین به کل بازها) یک ویژگی مهم در تحلیل ژنوم است و در مواردی مانند پایداری حرارتی DNA و شناسایی نواحی ژنی کاربرد دارد.

### الگوریتم: نقشه راه ما

قبل از نوشتن هر کدی، یک برنامه‌نویس خوب همیشه ابتدا منطق کار را مشخص می‌کند. الگوریتم ما به این صورت خواهد بود:

1.  **مقداردهی اولیه:** یک متغیر برای ذخیره توالی DNA و یک متغیر شمارنده برای تعداد G و C ها (که با صفر شروع می‌شود) ایجاد می‌کنیم.
2.  **پیمایش:** با استفاده از یک حلقه `for`، بر روی تک‌تک بازهای توالی DNA حرکت می‌کنیم.
3.  **تصمیم‌گیری:** در هر مرحله از حلقه، با یک دستور `if` بررسی می‌کنیم که آیا باز فعلی 'G' است یا 'C'.
4.  **شمارش:** اگر شرط برقرار بود، یک واحد به متغیر شمارنده خود اضافه می‌کنیم.
5.  **محاسبه نهایی:** پس از پایان حلقه، تعداد کل G و C ها را بر طول کل توالی تقسیم کرده و نتیجه را در ۱۰۰ ضرب می‌کنیم تا درصد به دست آید.
6.  **نمایش خروجی:** نتیجه نهایی را چاپ می‌کنیم.

### پیاده‌سازی کد: قدم به قدم

حالا بیایید این الگوریتم را به کد پایتون تبدیل کنیم.

```python
# قدم ۱: مقداردهی اولیه
# یک توالی DNA نمونه از بخشی از ژنوم باکتری E. coli
dna_sequence = "AGCTCCGTACGTAGCTAGCTAGCTACGATCAGCTACGATCGATCGATGC"
gc_counter = 0

# قدم ۲: پیمایش با حلقه for
for base in dna_sequence:
  # قدم ۳: تصمیم‌گیری با if
  # آیا باز فعلی 'G' است یا باز فعلی 'C' است؟
  if base == 'G' or base == 'C':
    # قدم ۴: افزایش شمارنده
    gc_counter = gc_counter + 1

# قدم ۵: محاسبه نهایی
total_length = len(dna_sequence)

# برای جلوگیری از خطای تقسیم بر صفر در صورت خالی بودن رشته
if total_length > 0:
    gc_percentage = (gc_counter / total_length) * 100
else:
    gc_percentage = 0

# قدم ۶: نمایش خروجی
print("توالی DNA:", dna_sequence)
print("طول کل توالی:", total_length)
print("تعداد بازهای G و C:", gc_counter)
print(f"درصد GC برابر است با: {gc_percentage:.2f} %")
```

کد بالا را در Colab خود اجرا کنید. خروجی باید به شکل زیر باشد:

```
توالی DNA: AGCTCCGTACGTAGCTAGCTAGCTACGATCAGCTACGATCGATCGATGC
طول کل توالی: 51
تعداد بازهای G و C: 29
درصد GC برابر است با: 56.86 %
```

**تبریک می‌گوییم!** شما با موفقیت یک ابزار بیوانفورماتیکی واقعی نوشتید. این برنامه ساده اما قدرتمند، هسته بسیاری از تحلیل‌های پیچیده‌تر ژنومی است.

---

### 🔬 تمرین تحلیلی: ارتقاء ماشین حساب ژنومی

حالا برنامه محاسبه‌گر GC را ارتقا دهید. آن را طوری تغییر دهید که کاراکترهای نامعتبر (هر چیزی غیر از A, T, C, G) را نیز بشمارد و در انتها تعداد آنها را به همراه یک پیام هشدار گزارش دهد.

**توالی برای آزمایش:** `AGCTCCGTACGTNNAGCTAGCTANNNGCTACGATCAGCTACGATCGATCGATGC` (کاراکترهای `N` نامعتبر هستند)

**راهنمایی:** در حلقه `for`، شما می‌توانید از یک بلوک `elif` برای شمارش A و T و یک بلوک `else` برای شمارش هر چیز دیگری استفاده کنید.

**پاسخ و راه حل:**

```python
dna_sequence = "AGCTCCGTACGTNNAGCTAGCTANNNGCTACGATCAGCTACGATCGATCGATGC"
gc_counter = 0
invalid_counter = 0

for base in dna_sequence:
  if base == 'G' or base == 'C':
    gc_counter += 1
  elif base == 'A' or base == 'T':
    # این یک باز معتبر است، پس کاری انجام نمی‌دهیم
    pass
  else:
    # اگر باز نه G, C, A, یا T باشد، نامعتبر است
    invalid_counter += 1

total_length = len(dna_sequence)
# محاسبه درصد فقط بر اساس بازهای معتبر
valid_length = total_length - invalid_counter

if valid_length > 0:
    gc_percentage = (gc_counter / valid_length) * 100
else:
    gc_percentage = 0

print(f"درصد GC (فقط از بازهای معتبر): {gc_percentage:.2f} %")
if invalid_counter > 0:
    print(f"هشدار: {invalid_counter} کاراکتر نامعتبر در توالی پیدا شد.")
```

### 💡 نکات کلیدی این بخش

- **ترکیب مفاهیم:** قدرت واقعی برنامه‌نویسی در ترکیب مفاهیم پایه (متغیر، حلقه، شرط) برای حل یک مسئله واقعی است.
- **الگوریتم نویسی:** نوشتن یک نقشه راه (الگوریتم) قبل از کدنویسی، فرآیند را ساده‌تر کرده و از خطا جلوگیری می‌کند.
- **پروژه محوری:** بهترین راه برای یادگیری عمیق، ساختن یک پروژه کاربردی از ابتدا تا انتها است.
- **اعتبارسنجی داده:** یک برنامه خوب باید بتواند با داده‌های ناقص یا نامعتبر (مانند `N` در توالی) به درستی برخورد کند.

شما با تکمیل این پروژه، اولین قدم بزرگ را برای تبدیل شدن به یک متخصص بیوانفورماتیک برداشته‌اید. در بخش نهایی این فصل، دانش خود را با یک آزمون جامع به چالش خواهید کشید.
